module "repo" {
  for_each                                = local.repositories
  source                                  = "vmvarela/repository/github"
  version                                 = "~> 0.2"
  name                                    = each.key
  alias                                   = try(each.value.alias, each.key)
  actions_access_level                    = each.value.actions_access_level
  actions_permissions                     = each.value.actions_permissions
  advanced_security                       = each.value.advanced_security
  allow_merge_commit                      = each.value.allow_merge_commit
  allow_rebase_merge                      = each.value.allow_rebase_merge
  allow_squash_merge                      = each.value.allow_squash_merge
  allow_update_branch                     = each.value.allow_update_branch
  archived                                = each.value.archived
  archive_on_destroy                      = each.value.archive_on_destroy
  autolink_references                     = each.value.autolink_references
  auto_init                               = each.value.auto_init
  branches                                = each.value.branches
  default_branch                          = each.value.default_branch
  delete_branch_on_merge                  = each.value.delete_branch_on_merge
  dependabot_secrets                      = each.value.dependabot_secrets
  deploy_keys                             = each.value.deploy_keys
  description                             = each.value.description
  environments                            = each.value.environments
  files                                   = each.value.files
  gitignore_template                      = each.value.gitignore_template
  has_discussions                         = each.value.has_discussions
  has_issues                              = each.value.has_issues
  has_projects                            = each.value.has_projects
  has_wiki                                = each.value.has_wiki
  homepage_url                            = each.value.homepage_url
  ignore_vulnerability_alerts_during_read = each.value.ignore_vulnerability_alerts_during_read
  is_template                             = each.value.is_template
  issue_labels                            = each.value.issue_labels
  license_template                        = each.value.license_template
  merge_commit_message                    = each.value.merge_commit_message
  merge_commit_title                      = each.value.merge_commit_title
  private                                 = each.value.private
  properties                              = each.value.properties
  rulesets                                = each.value.rulesets
  secret_scanning                         = each.value.secret_scanning
  secret_scanning_push_protection         = each.value.secret_scanning_push_protection
  secrets                                 = each.value.secrets
  squash_merge_commit_message             = each.value.squash_merge_commit_message
  squash_merge_commit_title               = each.value.squash_merge_commit_title
  teams                                   = each.value.teams
  template                                = each.value.template
  template_include_all_branches           = each.value.template_include_all_branches
  topics                                  = each.value.topics
  users                                   = each.value.users
  variables                               = each.value.variables
  visibility                              = each.value.visibility
  vulnerability_alerts                    = each.value.vulnerability_alerts
  web_commit_signoff_required             = each.value.web_commit_signoff_required
  webhooks                                = each.value.webhooks
}
